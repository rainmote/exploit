/* Description: Modify the critical variables
 * [exp]
 *		input: aaaaaaaa
 *		Buffer overflow to flag (verify_password)
*/

#include <stdio.h>
#include <string.h>

#define PASSWORD "1234567"

int verify_password (char *password)
{
	int flag;
	char buffer[8];
	flag = strcmp(password, PASSWORD);
	strcpy(buffer, password);
	return flag;
}

int main()
{
	int valid_flag = 0;
	char password[1024];
	while(1)
	{
		printf("please input password:  ");
		scanf("%s", password);
		valid_flag = verify_password(password);
		if (valid_flag)
		{
			printf("incorrect password!\n\n");
		} else {
			printf("Congratulation! You have passed the verification!\n");
			break;
		}
	}

	return 0;
}
